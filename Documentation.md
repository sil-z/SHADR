# SHADR

SHADR 是运行在浏览器中的字体编辑器，属于自由软件。

本文档描述当前对软件功能期望的说明，可能随需求的变化而更改。

## 功能分层说明

- 导入和导出
    - 支持导入和导出以下类型文件：.shadr.json / .ufo.zip / .ufoz
    - 通过菜单栏 - load / Ctrl + O 打开文件选择窗口，将文件加载到浏览器中
    - 在浏览器中自动将必需和非必需的文件数据存储在 IndexedDB 和 LocalStorage 中，在按下 Ctrl + S 时输出安慰信息表示已临时存储
    - 通过菜单栏 - Save As / Ctrl + Shift + S 保存（下载）文件到本地
- GUI 结构
    - 菜单栏：位于最顶部，包括管理文件，设置，帮助等基本菜单
    - 顶部工具栏：位于菜单栏之下，包括大部分基础工具
    - 侧边工具栏：位于页面左边，从上到下包括分组编辑文本框，分组管理，属性编辑文本框，终端
    - 画布：占据界面主要区域，用于编辑矢量字形
- 字体信息及字符组成编辑
    - 通过顶部工具栏 - Edit Font Information / Ctrl + Shift + I 编辑大部分字体信息
    - 通过侧边工具栏输入特定分组名称序列以同时编辑多个分组
    - 分组可以互相嵌套，字符是特殊的分组
    - 通过顶部工具栏 - Manage Charactors / Ctrl + Shift + M 管理所有字符
- 矢量字形编辑
    - 通用
        - 按住 Ctrl + H 进入快速预览模式，隐藏所有节点并将图形自动设置为与字体渲染相同的显示模式
        - Ctrl + 鼠标滚轮 / Alt + 鼠标滚轮 / Ctrl + + / Ctrl + - 控制画面缩放，鼠标中键拖动 / Ctrl + Arrow 控制画面平移
        - 从标尺中可以拖出辅助线，在辅助线上双击以精确设置坐标，在画布左上角切换辅助线锁定状态
        - 通过 Ctrl + Z 撤回操作，Ctrl + Y 重做
        - 操作历史等信息显示在终端中
    - 通过顶部工具栏或 1 切换为选择工具
        - 单击或拖动以选择单个或多个完整的路径对象
        - 对选中的对象进行变换操作
        - 所有节点将被隐藏，只显示路径
        - 双击对象切换为节点工具
        - 通过侧边工具栏设置所有选中路径信息
            - 坐标和尺寸
            - 是否仅按填充渲染
    - 通过顶部工具栏或 2 切换为节点工具
        - 所有节点将显示
        - 单击或拖动以选择多个节点
        - 拖动 / 删除所有选中的节点
        - 双击路径在中间插入节点
        - 类似选择工具，单击路径对象以选中
        - 通过侧边工具栏设置所有选中节点信息
            - 坐标
            - 控制手柄角度
    - 通过顶部工具栏或 3 切换为钢笔工具
        - 除正在绘制的路径外，所有节点将被隐藏，只显示路径
        - 在画布空白处单击和拖动绘制曲线
        - 绘制时显示预览
    - 通过顶部工具栏设置节点平滑类型
    - 通过顶部工具栏设置画布上节点一键对齐
- 其他
    - 通过菜单栏打开设置
        - 可选关闭提示
        - 设置浏览器长期保存数据
    - 通过菜单栏打开外观设置
        - 路径填充和描边的颜色